(()=>{var e={};e.id=193,e.ids=[193],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9217:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>h,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>l}),r(834),r(5974),r(5866);var a=r(3191),s=r(8716),n=r(7922),i=r.n(n),o=r(5231),d={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>o[e]);r.d(t,d);let l=["",{children:["notifications",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,834)),"C:\\kadztricy\\sakatna\\frontend\\app\\notifications\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,5974)),"C:\\kadztricy\\sakatna\\frontend\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\kadztricy\\sakatna\\frontend\\app\\notifications\\page.tsx"],u="/notifications/page",h={require:r,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/notifications/page",pathname:"/notifications",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},5253:(e,t,r)=>{Promise.resolve().then(r.bind(r,3812)),Promise.resolve().then(r.bind(r,5220)),Promise.resolve().then(r.bind(r,4452))},2780:(e,t,r)=>{Promise.resolve().then(r.bind(r,267))},7174:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2994,23)),Promise.resolve().then(r.t.bind(r,6114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,9671,23)),Promise.resolve().then(r.t.bind(r,1868,23)),Promise.resolve().then(r.t.bind(r,4759,23))},267:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f});var a=r(326),s=r(434),n=r(3071),i=r(567),o=r(772),d=r(2631),l=r(361),c=r(2881);let u=(0,c.Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),h=(0,c.Z)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);var m=r(6333),x=r(6507),p=r(7577),g=r(6824),v=r(2991);function f(){let[e,t]=(0,p.useState)(null),[r,c]=(0,p.useState)(!1),[f,y]=(0,p.useState)(null),[b,j]=(0,p.useState)(null);(0,v.vF)();let k=e=>{switch(e){case"success":return a.jsx(l.Z,{className:"h-5 w-5 text-secondary"});case"warning":return a.jsx(u,{className:"h-5 w-5 text-destructive"});default:return a.jsx(h,{className:"h-5 w-5 text-primary"})}},w=e?.filter(e=>!e.read).length??0;async function N(e){j(e);try{let r=await (0,g.v_)(`/notifications/${e}/read`,{});t(t=>t?t.map(t=>t.notification_id===e?r:t):t)}catch(e){y("Failed to mark notification as read. Please try again."),setTimeout(()=>y(null),3e3)}finally{j(null)}}return(0,a.jsxs)(d.O,{children:[(0,a.jsxs)("header",{className:"bg-primary text-primary-foreground p-6 shadow-md",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[a.jsx(s.default,{href:"/passenger",className:"hover:opacity-80",children:a.jsx(m.Z,{className:"h-6 w-6"})}),a.jsx("h1",{className:"text-2xl font-bold",children:"Notifications"})]}),w>0&&(0,a.jsxs)(i.C,{className:"bg-secondary text-secondary-foreground",children:[w," new notification",1!==w?"s":""]})]}),(0,a.jsxs)("div",{className:"p-6 space-y-3",children:[r&&a.jsx("div",{className:"space-y-3",children:[1,2,3].map(e=>(0,a.jsxs)(n.Zb,{className:"shadow-lg animate-pulse",children:[a.jsx(n.Ol,{className:"pb-3",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-5 h-5 rounded-full bg-muted"}),(0,a.jsxs)("div",{className:"flex-1 space-y-2",children:[a.jsx("div",{className:"h-4 bg-muted rounded w-3/4"}),a.jsx("div",{className:"h-3 bg-muted rounded w-1/4"})]})]})}),a.jsx(n.aY,{children:(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx("div",{className:"h-4 bg-muted rounded"}),a.jsx("div",{className:"h-4 bg-muted rounded w-5/6"})]})})]},e))}),f&&a.jsx("div",{className:"p-4 rounded-md bg-destructive/10 border border-destructive/20 text-destructive",children:f}),!r&&e&&0===e.length&&a.jsx(n.Zb,{className:"shadow-lg",children:(0,a.jsxs)(n.aY,{className:"py-12 text-center",children:[a.jsx(x.Z,{className:"h-12 w-12 text-muted-foreground mx-auto mb-3"}),a.jsx("p",{className:"text-muted-foreground",children:"No notifications yet"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"We'll notify you when something important happens"})]})}),e?.map(e=>a.jsxs(n.Zb,{className:`shadow-lg transition-all ${e.read?"":"border-l-4 border-l-primary bg-primary/5"}`,children:[a.jsx(n.Ol,{className:"pb-3",children:a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[a.jsx("div",{className:"mt-0.5",children:k(e.type)}),a.jsxs("div",{className:"flex-1",children:[a.jsx(n.ll,{className:"text-base",children:e.title}),!e.read&&a.jsx(i.C,{variant:"secondary",className:"mt-1 text-xs",children:"New"})]})]}),!e.read&&a.jsx("div",{children:a.jsx(o.z,{variant:"ghost",size:"sm",onClick:()=>N(e.notification_id),isLoading:b===e.notification_id,loadingText:"Marking...",className:"text-sm text-primary hover:text-primary hover:bg-primary/10",children:"Mark read"})})]})}),a.jsxs(n.aY,{className:"space-y-2",children:[a.jsx("p",{className:"text-sm text-foreground",children:e.message}),a.jsx("p",{className:"text-xs text-muted-foreground",children:e.created_at?new Date(e.created_at).toLocaleString():""})]})]},e.notification_id))]})]})}},2631:(e,t,r)=>{"use strict";r.d(t,{O:()=>n});var a=r(326),s=r(7863);function n({children:e,className:t}){return a.jsx("div",{className:(0,s.cn)("min-h-screen bg-background pb-20",t),children:a.jsx("div",{className:"max-w-md mx-auto",children:e})})}},567:(e,t,r)=>{"use strict";r.d(t,{C:()=>d});var a=r(326);r(7577);var s=r(9469),n=r(9360),i=r(7863);let o=(0,n.j)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function d({className:e,variant:t,asChild:r=!1,...n}){let d=r?s.g7:"span";return a.jsx(d,{"data-slot":"badge",className:(0,i.cn)(o({variant:t}),e),...n})}},772:(e,t,r)=>{"use strict";r.d(t,{z:()=>l});var a=r(326);r(7577);var s=r(9469),n=r(9360),i=r(7506),o=r(7863);let d=(0,n.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function l({className:e,variant:t,size:r,asChild:n=!1,isLoading:l=!1,loadingText:c,children:u,...h}){let m=n?s.g7:"button";return a.jsx(m,{"data-slot":"button",className:(0,o.cn)(d({variant:t,size:r,className:e}),l&&"cursor-wait","active:scale-95 transition-transform duration-75"),disabled:l||h.disabled,...h,children:l?(0,a.jsxs)(a.Fragment,{children:[a.jsx(i.Z,{className:"animate-spin"}),c||u]}):u})}},3071:(e,t,r)=>{"use strict";r.d(t,{Ol:()=>i,SZ:()=>d,Zb:()=>n,aY:()=>l,ll:()=>o});var a=r(326);r(7577);var s=r(7863);function n({className:e,...t}){return a.jsx("div",{"data-slot":"card",className:(0,s.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function i({className:e,...t}){return a.jsx("div",{"data-slot":"card-header",className:(0,s.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function o({className:e,...t}){return a.jsx("div",{"data-slot":"card-title",className:(0,s.cn)("leading-none font-semibold",e),...t})}function d({className:e,...t}){return a.jsx("div",{"data-slot":"card-description",className:(0,s.cn)("text-muted-foreground text-sm",e),...t})}function l({className:e,...t}){return a.jsx("div",{"data-slot":"card-content",className:(0,s.cn)("px-6",e),...t})}},3812:(e,t,r)=>{"use strict";r.d(t,{Toaster:()=>n});var a=r(326),s=r(1439);function n(){return a.jsx(s.Ix,{position:"top-center",autoClose:3e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"})}r(5996)},5220:(e,t,r)=>{"use strict";r.d(t,{a:()=>o,default:()=>d});var a=r(326),s=r(7577),n=r(6824);let i=(0,s.createContext)(void 0);function o(){let e=(0,s.useContext)(i);if(!e)throw Error("useAuth must be used within AuthProvider");return e}function d({children:e}){let[t,r]=(0,s.useState)(()=>{try{return null}catch{return null}}),[o,d]=(0,s.useState)(()=>{try{return null}catch{return null}}),[l,c]=(0,s.useState)(!1);async function u(e,t){c(!0);try{let a=await (0,n.v_)("/auth/login",{email:e,password:t});if(a?.access_token)return localStorage.setItem("tricy_token",a.access_token),localStorage.setItem("tricy_user",JSON.stringify(a.user||{})),d(a.access_token),r(a.user||null),a.user||null;return null}finally{c(!1)}}async function h(e){c(!0);try{await (0,n.v_)("/auth/register",e),e.email&&e.password&&await u(e.email,e.password)}finally{c(!1)}}return a.jsx(i.Provider,{value:{user:t,token:o,loading:l,login:u,register:h,logout:function(){try{localStorage.removeItem("tricy_token"),localStorage.removeItem("tricy_user")}catch{}d(null),r(null)}},children:e})}},6824:(e,t,r)=>{"use strict";r.d(t,{U2:()=>i,r$:()=>o,v_:()=>n});let a=process.env.NEXT_PUBLIC_API_BASE||"https://kadzysakatna.onrender.com";function s(){try{return null}catch{return null}}async function n(e,t){let r=s(),n={"Content-Type":"application/json"};r&&(n.Authorization=`Bearer ${r}`);let i=await fetch(`${a}${e}`,{method:"POST",headers:n,body:JSON.stringify(t)});if(401===i.status)throw{message:"Unauthorized",status:401};let o=await i.json().catch(()=>null);if(!i.ok)throw o||{message:i.statusText};return o}async function i(e){let t=s(),r={"Content-Type":"application/json"};t&&(r.Authorization=`Bearer ${t}`);let n=await fetch(`${a}${e}`,{headers:r});if(401===n.status)throw{message:"Unauthorized",status:401};let i=await n.json().catch(()=>null);if(!n.ok)throw i||{message:n.statusText};return i}async function o(e,t){let r=s(),n={"Content-Type":"application/json"};r&&(n.Authorization=`Bearer ${r}`);let i=await fetch(`${a}${e}`,{method:"PATCH",headers:n,body:JSON.stringify(t)});if(401===i.status)throw{message:"Unauthorized",status:401};let o=await i.json().catch(()=>null);if(!i.ok)throw o||{message:i.statusText};return o}},2991:(e,t,r)=>{"use strict";function a(){return null}function s(){}r.d(t,{kS:()=>s,vF:()=>a}),r(6824)},7863:(e,t,r)=>{"use strict";r.d(t,{cn:()=>n});var a=r(1135),s=r(1009);function n(...e){return(0,s.m6)((0,a.W)(e))}},6333:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(2881).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},6507:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(2881).Z)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]])},361:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(2881).Z)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},7506:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(2881).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},434:(e,t,r)=>{"use strict";r.d(t,{default:()=>s.a});var a=r(9404),s=r.n(a)},5974:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>x,metadata:()=>m});var a=r(9510),s=r(5239),n=r.n(s),i=r(7362),o=r.n(i),d=r(441),l=r(1159),c=r(8570);(0,c.createProxy)(String.raw`C:\kadztricy\sakatna\frontend\lib\AuthProvider.tsx#useAuth`);let u=(0,c.createProxy)(String.raw`C:\kadztricy\sakatna\frontend\lib\AuthProvider.tsx#default`);(0,c.createProxy)(String.raw`C:\kadztricy\sakatna\frontend\components\ui\toast.tsx#toast`);let h=(0,c.createProxy)(String.raw`C:\kadztricy\sakatna\frontend\components\ui\toast.tsx#Toaster`);r(7272);let m={title:"Tricycle Booking App",description:"Book tricycles easily and quickly",generator:"v0.app"};function x({children:e}){return a.jsx("html",{lang:"en",children:(0,a.jsxs)("body",{className:`font-sans ${n().variable} ${o().variable} antialiased`,children:[a.jsx(u,{children:a.jsx(l.Suspense,{fallback:null,children:e})}),a.jsx(d.c,{}),a.jsx(h,{})]})})}},834:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(8570).createProxy)(String.raw`C:\kadztricy\sakatna\frontend\app\notifications\page.tsx#default`)},7272:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[637,710,404],()=>r(9217));module.exports=a})();